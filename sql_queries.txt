CREATE DATABASE voting_management;

USE voting_management;
DROP TABLE IF EXISTS users;

-- Recreate the users table with the modified schema
CREATE TABLE users (
        id INT AUTO_INCREMENT PRIMARY KEY,
        email VARCHAR(255) UNIQUE NOT NULL, -- Change user_id to email
password VARCHAR(100) NOT NULL,
full_name VARCHAR(255) NOT NULL, -- Add full_name field
voter_id_proof_path VARCHAR(255) NOT NULL
);
INSERT INTO users (email, password, full_name, voter_id_proof_path) VALUES ('test@example.com', 'password123', 'John Doe', '/path/to/voter_id_proof.jpg');
INSERT INTO users (email, password, full_name, voter_id_proof_path) VALUES ('123@gmail.com', 'password123', 'test user', '/path/to/voter_id_qqproof.jpg');
CREATE TABLE votes (
        id INT AUTO_INCREMENT PRIMARY KEY,
        user_email VARCHAR(255),
voted_party VARCHAR(255),
timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

SELECT * FROM users;
SELECT * FROM votes;